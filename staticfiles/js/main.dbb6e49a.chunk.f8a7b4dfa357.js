(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{292:function(e,t,n){e.exports=n.p+"static/media/image_1.f34359db.jpg"},293:function(e,t,n){e.exports=n.p+"static/media/image_2.086f3893.jpg"},294:function(e,t,n){e.exports=n.p+"static/media/userImage.195d5283.png"},308:function(e,t,n){e.exports=n(499)},313:function(e,t,n){},318:function(e,t,n){},499:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(51),c=n.n(i),o=(n(313),n(21)),l=n(22),u=n(24),s=n(23),d=n(25),m=n(20),h=n(150),p=n(265),E=(n(318),n(18)),f=n(35),b=n(266),g=n(267),v=n(532),C="USER_AUTH_START",k="USER_AUTH_FAIL",T=["View Tickets","Make donations","View bugs and features status"],O=["Make donations","View bugs and features status","View tickets","Create tickets","Vote on tickets","Comment on tickets","Blog access"],y=[{header:"Home",key:"/home"},{header:"Dashboard",key:"/dashboard"},{header:"Pricing",key:"/pricing"},{header:"Tickets",key:"/tickets"},{header:"Blog",key:"/blog"}],R=[{header:"Blog",key:"blog"},{header:"Cart",key:"checkout"},{header:"Pricing",key:"pricing"},{header:"Tickets",key:"tickets"},{header:"Dashboard",key:"dashboard"}],j={username:"",userId:"",email:"",currentMembership:""},_={data:{},dataReceived:!1,hasError:!1,isLoading:!1},I={hasError:!1,isLoading:!1,isAuthenticated:!1},A=Object.freeze({three:3,five:5,ten:10,fifteen:15}),S=Object.freeze({membership:"membership",post:"post",ticket:"ticket"}),w=Object.freeze({pro:"pro",free:"free"}),L=Object.freeze({comment:"comment",reply:"reply"}),D=Object.freeze({todo:"todo",doing:"doing",done:"done",is_bug:"is_bug",is_feature:"is_feature"}),x=["description","title","subject","priority_level","content"],U=n(31),M=function(e,t){return Object(U.a)({},e,t)},F=function(e){return M(e,{hasError:!0})},P=function(e){return M(e,{isLoading:!0})},B=function(e,t){return M(e,{data:t.payload,dataReceived:!0,isLoading:!1,hasError:!1})},H={alertMsg:{}},N={errorMsg:"",successMsg:""},V=Object(f.combineReducers)({articleDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ARTICLE_DETAIL":return P(e);case"ARTICLE_DETAIL_ERROR":return F(e);case"RECEIVE_ARTICLE_DETAIL":return B(e,t);default:return e}},articleList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ARTICLE_LIST":return P(e);case"ARTICLE_LIST_ERROR":return F(e);case"RECEIVE_ARTICLE_LIST":return B(e,t);default:return e}},article:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_ARTICLE":return P(e);case"CREATE_ARTICLE_ERROR":return F(e);case"RECEIVE_ARTICLE":return B(e,t);default:return e}},articleUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_ARTICLE_UPDATE":return P(e);case"ARTICLE_UPDATE_ERROR":return F(e);case"RECEIVE_ARTICLE_UPDATE":return B(e,t);default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k||"LOGOUT_ERROR":return function(e,t){return M(e,Object(U.a)({},I,{hasError:!0,data:t.payload}))}(e,t);case C||"REQUEST_LOGOUT":return function(e,t){return M(e,Object(U.a)({},I,{isLoading:!0}))}(e);case"USER_AUTH_SUCCESS":return function(e,t){return M(e,Object(U.a)({},I,{isAuthenticated:!0}))}(e,t.payload);default:return e}},cartAddOrRemove:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_ADD_TO_CART":return P(e);case"ADD_T0_CART_ERROR":return F(e);case"RECEIVE_ADD_T0_CART":return B(e,t);default:return e}},checkout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_TRANSCATION":case"SUBMITTING_PAYMENT":case"REQUEST_CHECKOUT":return P(e);case"TRANSCATION_UPDATE_FAIL":case"PAYMENT_FAIL":case"CHECKOUT_ERROR":return F(e);case"TRANSCATION_UPDATED":case"PAYMENT_SUCCESS":case"RECEIVE_CHECKOUT":return B(e,t);default:return e}},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATING_COMMENT":return P(e);case"RECEIVED_REPLY":return B(e,t);case"REPLY_ERROR":return F(e);case"CREATING_REPLY":return P(e);case"CREATED_COMMENT":return B(e,t);case"CREATE_COMMENT_ERROR":return F(e);default:return e}},editTicket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_TICKET_DELETE":return P(e);case"TICKET_UPDATE_ERROR":return F(e);case"RECEIVE_TICKET_UPDATE":return B(e,t);default:return e}},errorAlert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:var n=Object(U.a)({},F(e),{alertMsg:t.payload});return console.log(n),n;default:return e}},form:v.a,memberships:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CANCEL_SUBSCRIPTION_ERROR":return F(e);case"REQUEST_CANCEL_SUBSCRIPTION":return P(e);case"RECEIVE_MEMBERSHIPS_LIST":return B(e,t);default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_MESSAGE":return function(e,t){var n=t.payload;return n.successMsg?M(e,{successMsg:n}):M(e,{errorMsg:n})}(e,t);default:return e}},pending:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_PENDING_ORDER":return P(e);case"PENDING_ORDER_ERROR":return F(e);case"RECEIVE_PENDING_ORDER":return B(e,t);default:return e}},ticket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_TICKET":return P(e);case"TICKET_DETAIL_ERROR":return F(e);case"RECEIVE_TICKET":return B(e,t);default:return e}},ticketDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TICKET_DETAIL":return P(e);case"TICKET_DETAIL_ERROR":return F(e);case"RECEIVE_TICKET_DETAIL":return B(e,t);default:return e}},tickets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TICKET_LIST":return P(e);case"TICKETS_LIST_ERROR":return F(e);case"RECEIVE_TICKETS_LIST":return B(e,t);default:return e}},ticketSolution:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_TICKET_SOLUTION":return P(e);case"TICKET_SOLUTION_ERROR":return F(e);case"RECEIVE_TICKET_SOLUTION":return B(e,t);default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHING_USER":return P(e);case"FETCH_USER_ERROR":return F(e);case"RECEIVED_USER":return B(e,t);default:return e}},userProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_MEMBER_PROFILE":return P(e);case"RECEIVE_MEMBER_PROFILE":return B(e,t);case"MEMBER_PROFILE_ERROR":return F(e);default:return e}},vote:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_TICKET_VOTE":return P(e);case"TICKET_VOTE_ERROR":return F(e);case"UPDATED_TICKET_VOTE":return B(e,t);default:return e}}}),z=[b.a],K=Object(f.createStore)(V,Object(g.composeWithDevTools)(f.applyMiddleware.apply(void 0,z))),G=n(56),Q=n(15),Y=n(515),W=n(520),q=function(e){return e.auth},J=function(e){return e.user},$=function(e){return e.errorAlert},X=function(e){return e.messages},Z=function(e){return e.ticketDetail},ee=function(e){return e.editTicket},te=function(e){return e.tickets},ne=function(e){return e.ticket},ae=function(e){return e.comments},re=function(e){return e.vote},ie=function(e){return e.memberships.data},ce=function(e){return e.checkout},oe=function(e){return e.cartAddOrRemove},le=function(e){return e.pending},ue=function(e){return e.articleList},se=function(e){return e.ticketSolution},de=function(e){return e.articleDetail},me=function(e){return e.article},he=function(e){return e.articleUpdate},pe=n(17),Ee=n.n(pe),fe=n(30),be=n(32),ge=n.n(be),ve=(localStorage.getItem("stripeToken"),localStorage.getItem("sessionToken")),Ce=localStorage.getItem("sessionLife"),ke=(localStorage.getItem("subscriptionId"),localStorage.getItem("selectedMembership"),localStorage.getItem("currentMembership"),function(){var e=Object(fe.a)(Ee.a.mark(function e(t,n){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve();case 2:localStorage.setItem(t,n);case 3:case"end":return e.stop()}},e)}))}(),function(){var e=Object(fe.a)(Ee.a.mark(function e(t){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve();case 2:return e.abrupt("return",localStorage.getItem(t));case 3:case"end":return e.stop()}},e)}))}(),"https://the-unicorn-attractor.herokuapp.com"),Te="".concat(ke,"/tickets/"),Oe="".concat(ke,"/blog/"),ye="".concat(ke,"/comments/"),Re="".concat(ke,"/memberships/"),je="".concat(ke,"/accounts/api/auth/"),_e="".concat(ke,"/cart"),Ie={headers:{Authorization:"Token ".concat(ve),"Content-Type":"application/json"}},Ae={headers:{"Content-Type":"application/json"}},Se=function(e,t,n){return{product_id:e,product:t,donation:n,stripeToken:localStorage.getItem("stripeToken")}};function we(){return(we=Object(fe.a)(Ee.a.mark(function e(){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.a.get("".concat(Te)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Le(){return(Le=Object(fe.a)(Ee.a.mark(function e(){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.a.get("".concat(Oe)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function De(){return(De=Object(fe.a)(Ee.a.mark(function e(t,n){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.a.put("".concat(Te,"update/").concat(t,"/"),n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function xe(){return(xe=Object(fe.a)(Ee.a.mark(function e(t,n){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.a.put("".concat(Oe,"update/").concat(t,"/"),n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ue(){return(Ue=Object(fe.a)(Ee.a.mark(function e(t){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.a.delete("".concat(Te,"delete/").concat(t,"/"),Ie));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Me(){return(Me=Object(fe.a)(Ee.a.mark(function e(t){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.a.delete("".concat(Oe,"delete/").concat(t,"/"),Ie));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Fe(){return(Fe=Object(fe.a)(Ee.a.mark(function e(t){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.a.get("".concat(Te,"api/").concat(t,"/vote/"),Ie));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pe(){return(Pe=Object(fe.a)(Ee.a.mark(function e(){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.a.get("".concat(Re)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Be(){return(Be=Object(fe.a)(Ee.a.mark(function e(){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.a.post("".concat(Re,"cancel-subscription/"),null,Ie));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function He(){return(He=Object(fe.a)(Ee.a.mark(function e(){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.a.get("".concat(je,"user"),Ie));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ne(){return(Ne=Object(fe.a)(Ee.a.mark(function e(t){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.a.post("".concat(je,"signup"),t,Ae));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ve(){return(Ve=Object(fe.a)(Ee.a.mark(function e(t){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.a.post("".concat(je,"login"),t,Ae));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ze(){return(ze=Object(fe.a)(Ee.a.mark(function e(){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.a.post("".concat(je,"logout"),null,Ie));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ke(){return(Ke=Object(fe.a)(Ee.a.mark(function e(t){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.a.post("".concat(Te,"api/create/"),t,Ie));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ge(){return(Ge=Object(fe.a)(Ee.a.mark(function e(t){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.a.post("".concat(Oe,"api/create/"),t,Ie));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qe(){return(Qe=Object(fe.a)(Ee.a.mark(function e(t){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.a.post("".concat(Te,"api/paid-tickets/"),{ticket_id:t},Ie));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ye(){return(Ye=Object(fe.a)(Ee.a.mark(function e(t){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.a.get("".concat(Te).concat(t,"/"),ve&&Ie));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function We(){return(We=Object(fe.a)(Ee.a.mark(function e(t){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.a.get("".concat(Oe,"article/").concat(t,"/"),ve&&Ie));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function qe(){return(qe=Object(fe.a)(Ee.a.mark(function e(t){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.a.post("".concat(ye,"create-comment/"),t,Ie));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Je(){return(Je=Object(fe.a)(Ee.a.mark(function e(t){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.a.post("".concat(ye,"create-reply/"),t,Ie));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $e(){return($e=Object(fe.a)(Ee.a.mark(function e(t,n,a){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.a.post("".concat(_e,"/add-to-cart/"),Se(t,n,a),Ie));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Xe(){return(Xe=Object(fe.a)(Ee.a.mark(function e(){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.a.get("".concat(_e,"/pending-order/"),Ie));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ze=function(e){return{type:e}},et=function(e,t){return{type:e,payload:t}},tt=function(e,t){return{type:e,payload:t}},nt=function(e){return{type:"CREATE_MESSAGE",payload:e}},at=function(e,t){return{type:e,payload:(n=t,{errorAlert:n.response.data,status:n.response.status})};var n},rt=function(e){return function(t){t(Ze("FETCH_ARTICLE_DETAIL")),function(e){return We.apply(this,arguments)}(e).then(function(e){t(et("RECEIVE_ARTICLE_DETAIL",e.data))},function(e){t(at("ARTICLE_DETAIL_ERROR",e))})}},it=n(527),ct=n(299),ot=n(74),lt=n(538),ut=(JSON.parse(localStorage.getItem("cart")),function(){return JSON.parse(localStorage.getItem("customer"))}),st=function(e){e.forEach(function(e){localStorage.removeItem(e)})},dt=function(e){var t=new Date(e);return t.getFullYear()+"/"+("0"+(t.getMonth()+1)).slice(-2)+"/"+("0"+t.getDate()).slice(-2)+" "+("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)},mt=function(){return"undefined"===typeof window?lt.a.onlyTablet.minWidth:window.innerWidth},ht=function(e){var t={};return e.title||(t.title="Enter a title"),e.description||(t.description="Enter a description"),e.subject||(t.subject="Enter a subject"),e.prority_level||(t.priority="Enter a priotrity level"),e.content||(t.content="Article content is required"),t},pt=n(501);var Et=function(e){var t=e.isTicket,n=e.handleTicketDelete,a=e.handleDelete,i=e.id;return e.isOwner&&r.a.createElement("div",{style:{paddingTop:10}},r.a.createElement(pt.a.Group,{floated:"right",size:"tiny"},r.a.createElement(pt.a,{size:"tiny",as:E.c,to:t?"/create-ticket":"/new-article"},"Create"),r.a.createElement(pt.a,{as:E.c,to:"/edit-".concat(t?"ticket":"article","/").concat(i)},"Edit"),r.a.createElement(pt.a,{color:"blue",onClick:t?function(){return n()}:function(){return a()}},"Delete")))},ft=function(e){var t=e.title,n=e.username,a=e.short_disc,i=e.views,c=e.likes,o=e.created_at,l=e.id,u=e.description,s=e.isArticleDetail,d=e.handleLikeClick,m=e.buttons;return r.a.createElement("div",null,r.a.createElement(it.a,{fluid:!0},r.a.createElement(ct.a,{src:"/images/avatar/large/daniel.jpg",wrapped:!0,ui:!1}),r.a.createElement(it.a.Content,null,r.a.createElement(it.a.Header,{as:E.c,to:"/article/".concat(l)},t.toUpperCase()),r.a.createElement(it.a.Meta,null,n," | ",dt(o)),r.a.createElement(it.a.Description,null,s?u:a)),r.a.createElement(it.a.Content,{extra:!0},r.a.createElement("span",{style:{paddingRight:20}},r.a.createElement(ot.a,{link:!0,name:"thumbs up",color:"grey",as:"i",fitted:!0,onClick:s?function(){return d(l)}:function(){}}),c),r.a.createElement(ot.a,{name:"eye"}),i,m)))},bt=n(534),gt=n(514),vt=n(535),Ct=n(523),kt=n(529),Tt=function(e){var t=e.comments,n=e.parentId;return Object.keys(t).map(function(e){var i=t[e],c=i.username,o=i.timestamp,l=i.comment,u=i.parent;return u&&n===u&&r.a.createElement(a.Fragment,{key:e},r.a.createElement(Ct.a.Group,null,r.a.createElement(Ct.a.Author,{as:"a"},c.toUpperCase()),r.a.createElement(Ct.a.Metadata,null,r.a.createElement(bt.a,{as:"h5",color:"grey"},dt(o))),r.a.createElement(Ct.a.Text,null,l)))})},Ot=n(521),yt=function(e){var t=e.id,n=e.handleCreateComment,a=e.handleSubmit,i=e.showReplyInput,c=e.buttonDisabled,o=e.handleOnBlur;return i&&r.a.createElement(Ot.a,{reply:!0},r.a.createElement(Ot.a.TextArea,{onChange:function(e){return n(e,L.reply)},onClick:function(){return o()}}),r.a.createElement(pt.a,{content:"Reply",disabled:c,onClick:function(){return a(t)},labelPosition:"left",icon:"edit",color:"teal",size:"tiny"}))},Rt=function(e){var t=e.comments,n=e.handleReplyClick,i=e.handleCreateComment,c=e.handleSubmit,o=e.showReplyInput,l=e.buttonDisabled,u=e.handleOnBlur,s=e.activeIndex;return void 0!==t?r.a.createElement(a.Fragment,null,r.a.createElement(bt.a,{as:"h4",content:"Comments"}),r.a.createElement(gt.a,null),Object.keys(t).map(function(e){var a=t[e],d=a.username,m=a.timestamp,h=a.comment,p=a.parent,E=a.id;return!p&&r.a.createElement(vt.a,{key:e},r.a.createElement(Ct.a,null,r.a.createElement(ot.a,{disabled:!0,name:"user",color:"orange"}),r.a.createElement(Ct.a.Content,null,r.a.createElement(Ct.a.Author,{as:"a"},r.a.createElement(bt.a,{as:"h5",color:"orange"},d.toUpperCase())),r.a.createElement(Ct.a.Metadata,null,r.a.createElement(bt.a,{as:"h5"},dt(m))),r.a.createElement(Ct.a.Text,{as:"h4"},h),r.a.createElement(Ct.a.Actions,null,r.a.createElement(Ct.a.Text,{as:"a",onClick:function(){return n(e)}},r.a.createElement(bt.a,{as:"h5",color:"teal"},"Reply")))),r.a.createElement(Tt,{comments:t,parentId:E})),r.a.createElement(yt,{handleCreateComment:i,handleSubmit:c,id:E,showReplyInput:s===e&&o,handleOnBlur:u,buttonDisabled:l}))})):r.a.createElement(kt.a,null,"No commets yet.")},jt=function(e){var t=e.article,n=e.user,a=e.handleDelete,i=t.data,c=i.title,o=i.short_disc,l=i.views,u=i.likes,s=i.created_at,d=i.id,m=i.content,h=i.owner_id,p=t.isOwner;return r.a.createElement("div",null,r.a.createElement(ft,{id:d,title:c,created_at:s,short_disc:o,likes:u,views:l,username:t.owner,isArticleDetail:!0,description:m,userId:n.id,ownerId:h,buttons:r.a.createElement(Et,{isOwner:p,handleDelete:a,id:d,isTicket:!1})}))},_t=function(){return function(e){e(Ze("FETCH_TICKET_LIST")),function(){return we.apply(this,arguments)}().then(function(t){e(et("RECEIVE_TICKETS_LIST",t.data))},function(t){e(at("TICKETS_LIST_ERROR",t))})}},It=function(e){return function(t){t(Ze("FETCH_TICKET_DETAIL")),function(e){return Ye.apply(this,arguments)}(e).then(function(e){t(et("RECEIVE_TICKET_DETAIL",e.data))},function(e){t(at("TICKET_DETAIL_ERROR",e))})}},At=function(e){return function(t){t(Ze("REQUEST_TICKET_VOTE")),function(e){return Fe.apply(this,arguments)}(e).then(function(e){t(et("UPDATED_TICKET_VOTE",e.data))},function(e){t(at("TICKET_VOTE_ERROR",e))})}},St=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={comment:"",reply:"",showReplyInput:!1,buttonDisabled:!0,activeIndex:0},n.handleCreateComment=n.handleCreateComment.bind(Object(Q.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(Q.a)(n)),n.handleReplyClick=n.handleReplyClick.bind(Object(Q.a)(n)),n.handleOnBlur=n.handleOnBlur.bind(Object(Q.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.commentsList;e.commentsList!==t&&t.dataReceived&&window.location.reload()}},{key:"handleOnBlur",value:function(){this.setState({buttonDisabled:!this.state.buttonDisabled})}},{key:"handleCreateComment",value:function(e,t){var n=e.target.value;t===L.reply?this.setState({reply:n}):this.setState({comment:n})}},{key:"handleSubmit",value:function(e){var t=this.state,n=t.comment,a=t.reply,r=this.props,i=r.ticketId,c=r.articleId,o=r.createComment,l=r.createReply,u=r.profile,s=r.isArticle,d=r.isTicket,m=u.dataReceived&&u.data.id;if(s&&null!==e)l({user:m,object_id:c,parent:e,comment:a,content_type:S.post});else if(s){o({object_id:c,comment:n,content_type:S.post})}if(d&&null!==e)l({user:m,object_id:i,parent:e,comment:a,content_type:S.ticket});else if(d){o({object_id:i,comment:n,content_type:S.ticket})}}},{key:"handleReplyClick",value:function(e){this.setState({showReplyInput:!this.state.showReplyInput,activeIndex:e})}},{key:"render",value:function(){var e=this,t=this.props.comments,n=this.state,a=n.showReplyInput,i=n.buttonDisabled,c=n.activeIndex,o=Object.keys(t).length||0;return r.a.createElement(vt.a,null,r.a.createElement(bt.a,{content:"".concat(o," Comment").concat(o>1?"s":"")}),r.a.createElement(Ct.a.Group,null,o>parseInt(0)&&r.a.createElement(Rt,{comments:t,handleReplyClick:this.handleReplyClick,handleSubmit:this.handleSubmit,handleCreateComment:this.handleCreateComment,showReplyInput:a,buttonDisabled:i,handleOnBlur:this.handleOnBlur,activeIndex:c}),r.a.createElement(Ot.a,{reply:!0},r.a.createElement(Ot.a.TextArea,{onClick:function(){return e.handleOnBlur()},onChange:function(t){return e.handleCreateComment(t)}}),r.a.createElement(pt.a,{content:"Comment",labelPosition:"left",disabled:i,icon:"edit",size:"small",color:"orange",onClick:function(){return e.handleSubmit(null)}}))))}}]),t}(a.Component),wt=Object(m.b)(function(e){return{commentsList:ae(e),profile:J(e)}},{createComment:function(e){return function(t){t(Ze("CREATING_COMMENT")),function(e){return qe.apply(this,arguments)}(e).then(function(e){t(et("CREATED_COMMENT",e.data))},function(e){t(at("CREATE_COMMENT_ERROR",e))})}},createReply:function(e){return function(t){t(Ze("CREATING_REPLY")),function(e){return Je.apply(this,arguments)}(e).then(function(e){t(et("RECEIVED_REPLY",e.data))},function(e){t(at("REPLY_ERROR",e))})}}})(Object(G.g)(St)),Lt=n(41),Dt=n(42);function xt(){var e=Object(Lt.a)(["\n  padding-right: 0.5rem;\n"]);return xt=function(){return e},e}var Ut=Dt.a.span(xt()),Mt=function(e){var t=e.redirect,n=e.linkText,a=e.message;return r.a.createElement(kt.a,null,r.a.createElement(Ut,null,a),r.a.createElement(E.c,{to:t},n))},Ft=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={showConfirmModal:!1},n.handleCancel=n.handleCancel.bind(Object(Q.a)(n)),n.handleDelete=n.handleDelete.bind(Object(Q.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.requestArticleDetail(e)}},{key:"handleDelete",value:function(){this.setState({showConfirmModal:!0})}},{key:"handleConfirm",value:function(){var e=this.props.match.params.id;this.props.deleteArticle(e),setTimeout(this.props.history.push("/blog"),1e3)}},{key:"handleCancel",value:function(){this.setState({showConfirmModal:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.article,a=t.user,i=this.state.showConfirmModal,c=a.dataReceived&&a.data.current_membership.membership.type;return r.a.createElement(Y.a,{style:{paddingTop:20}},r.a.createElement(W.a,{open:i,cancelButton:"Cancel",confirmButton:"Yes delete",onCancel:function(){return e.handleCancel()},onConfirm:function(){return e.handleConfirm()}}),n.dataReceived&&r.a.createElement(jt,{article:n.data,owner:n.owner,user:a.data,handleDelete:this.handleDelete}),n.dataReceived&&c?r.a.createElement(wt,{comments:n.data.comments,articleId:n.data.data.id,isArticle:!0}):r.a.createElement(Mt,{redirect:"/pricing",message:"Access to comments requires a ",linkText:"Unicorn PRO Account"}))}}]),t}(a.Component),Pt=Object(m.b)(function(e){return{article:de(e),user:J(e),auth:q(e)}},{requestArticleDetail:rt,deleteArticle:function(e){return function(t){t(Ze("REQUEST_ARTICLE_DELETE")),function(e){return Me.apply(this,arguments)}(e).then(function(e){t(nt({successMsg:"Article deleted"})),t(et("ARTICLE_DELETED",e.data))},function(e){t(at("DELETE_ARTICLE_ERROR",e))})}}})(Ft),Bt=n(298),Ht=n(533),Nt=n(516),Vt=Object(m.b)(function(e){return{auth:q(e)}})(function(e){var t=e.component,n=e.auth,i=Object(Bt.a)(e,["component","auth"]);return r.a.createElement(G.b,Object.assign({},i,{render:function(e){var i=n.isLoading;return function(){var e=localStorage.getItem("sessionToken");return ut()&&ut().currentMembership&&ut().userId&&e}()||i?i?r.a.createElement(a.Fragment,null,r.a.createElement(Ht.a,{active:!0,inverted:!0},r.a.createElement(Nt.a,{size:"mini"},"Loading"))):r.a.createElement(t,e):r.a.createElement(G.a,{to:"/login"})}}))}),zt=n(100),Kt=n(536),Gt=n(525),Qt=function(){return r.a.createElement(Ht.a,{active:!0,inverted:!0},r.a.createElement(Nt.a,{inverted:!0,content:"Loading",size:"mini"}))},Yt=n(115),Wt=function(e){var t=e.total;return r.a.createElement(Gt.a.Footer,null,r.a.createElement(Gt.a.Row,null,r.a.createElement(Gt.a.HeaderCell,{colSpan:"6",textAlign:"right"},r.a.createElement(pt.a,{as:"div",labelPosition:"right"},r.a.createElement(pt.a,{color:"orange"},"Total \u20ac"),r.a.createElement(Yt.a,{as:"a",basic:!0,pointing:"left"},t)))))},qt=function(e){var t=e.count;return r.a.createElement(Gt.a.Header,null,r.a.createElement(Gt.a.Row,null,r.a.createElement(Gt.a.HeaderCell,{colSpan:"6"},t>0?"Your have ".concat(t," ").concat(t>1?"items":"item"," in your cart"):"Your cart is empty")),r.a.createElement(Gt.a.Row,null,r.a.createElement(Gt.a.HeaderCell,null,"ID"),r.a.createElement(Gt.a.HeaderCell,null,"Item name"),r.a.createElement(Gt.a.HeaderCell,null,"Subtotal"),r.a.createElement(Gt.a.HeaderCell,null,"Total"),r.a.createElement(Gt.a.HeaderCell,{textAlign:"right"},"Confirm")))},Jt=n(526),$t=function(e){var t=e.orderItems,n=e.handleRemoveClick,a=(e.total,e.history);return Object.keys(t).map(function(e,i){var c=t[e],o=c.ticket,l=c.membership,u=t[e],s=u.id,d=u.price,m=t[e].ticket?o:l?"Unicorn ".concat(l):"[Kind Donation]",h=o?"ticket":l?"membership":"donation";return r.a.createElement(Gt.a.Row,{key:i},r.a.createElement(Gt.a.Cell,null,r.a.createElement(Jt.a.Header,{as:"a",onClick:function(){return a.push("ticket/".concat(s))}},r.a.createElement("span",{style:{fontWeight:700,color:"black"}},s))),r.a.createElement(Gt.a.Cell,{textAlign:"right"},r.a.createElement(Jt.a.Header,{as:"a",onClick:function(){return a.push("ticket/".concat(s))}},r.a.createElement("span",{style:{fontWeight:700,color:"black"}},m.toUpperCase()))),r.a.createElement(Gt.a.Cell,{textAlign:"right"},"\u20ac ",d),r.a.createElement(Gt.a.Cell,{textAlign:"right"},r.a.createElement("span",null,"\u20ac ",d)),r.a.createElement(Gt.a.Cell,{textAlign:"right"},r.a.createElement(Jt.a.Header,{as:"a",onClick:function(){return n(s,h)}},r.a.createElement(ot.a,{disabled:!0,name:"delete",size:"large"}))))})},Xt=function(e){var t=e.pendingOrders,n=e.handleRemoveClick,a=e.history,i=e.count,c=e.total,o=e.width,l=t.orders?t.orders:{},u=o<=770;return t!=={}?r.a.createElement(Gt.a,{celled:!0,striped:!0},!u&&r.a.createElement(qt,{count:i}),r.a.createElement(Gt.a.Body,null,r.a.createElement($t,{orderItems:l,total:c,history:a,handleRemoveClick:n})),r.a.createElement(Wt,{total:t.total})):r.a.createElement(Qt,null)},Zt=function(e,t,n){return function(a){a(Ze("REQUEST_ADD_TO_CART")),function(e,t,n){return $e.apply(this,arguments)}(e,t,n).then(function(e){var t=e.data.subscription_id||void 0;t&&localStorage.setItem("subscriptionId",t),a(et("RECEIVE_ADD_T0_CART",e.data)),a(nt({successMsg:e.data.message})),a(en())},function(e){a(nt({errorMsg:e.message})),a(tt("ADD_T0_CART_ERROR",e))})}},en=function(){return function(e){e(Ze("REQUEST_PENDING_ORDER")),function(){return Xe.apply(this,arguments)}().then(function(t){e(et("RECEIVE_PENDING_ORDER",t.data))},function(t){e(nt({errorMsg:"No cart found"})),e(tt("PENDING_ORDER_ERROR",t.message))})}},tn=n(512),nn=function(e){var t=e.handleAddToCart,n=e.handleDonationInput,a=e.buttonText;return r.a.createElement(vt.a,null,r.a.createElement(bt.a,{content:"Donate"}),r.a.createElement(Kt.a,{columns:3},r.a.createElement(Kt.a.Row,null,Object.keys(A).map(function(e){return r.a.createElement(Kt.a.Column,{key:e,style:{paddingBottom:10}},r.a.createElement(pt.a,{color:"blue",fluid:!0,onClick:function(){return t("button",A[e])}},"\u20ac ",A[e]))}))),r.a.createElement(it.a.Content,{style:{paddingBottom:10}},r.a.createElement(tn.a,{onChange:function(e){return n(e)},onBlur:function(){return t(A.other)},fluid:!0,action:{color:"blue",labelPosition:"left",icon:"euro",content:"".concat(a)},placeholder:"other amount"})))},an={home:{headerText:"Unicorn Attractor",headerButtonUrl:"/pricing",headerButtonText:"Get Started",subHeading:"Head start on coding issues and save hours!"},dashboard:{headerText:"Dashboard",headerButtonUrl:"/pricing",headerButtonText:"See what suits you!",subHeading:"How it will work for you?!"},pricing:{headerText:"Pricing",headerButtonUrl:"/create-ticket",headerButtonText:"File a ticket",subHeading:"Problems are everywhere, solutions are here!"},tickets:{headerText:"Tickets",headerButtonUrl:"/create-ticket",headerButtonText:"Create a ticket",subHeading:"Head start on coding issues and save hours!"},blog:{headerText:"Unicorn Blog",headerButtonUrl:"/new-article",headerButtonText:"Create article",subHeading:"Head start on coding issues and save hours!"},checkout:{headerText:"Shopping Cart",headerButtonUrl:"/checkout",headerButtonText:"Cart",subHeading:"Your shopping cart"}},rn=function(){var e,t=function(){var e=window.location.pathname.slice(1);return""===e?"home":e}();return Object.keys(an).forEach(function(n){t===n&&(e=an[n])}),e};function cn(){var e=Object(Lt.a)(["\n  padding-bottom: 5rem !important;\n"]);return cn=function(){return e},e}var on=Object(Dt.a)(vt.a)(cn()),ln=function(e){var t=e.mobile,n=rn(),a=n.headerText,i=n.headerButtonText,c=n.headerButtonUrl,o=n.subHeading;return r.a.createElement("div",null,r.a.createElement(on,{textAlign:"center",inverted:!0,vertical:!0},r.a.createElement(bt.a,{as:"h1",content:a,inverted:!0,style:{fontSize:t?"2em":"3em",fontWeight:"normal",marginBottom:0,marginTop:"1em"}}),r.a.createElement(bt.a,{as:"h2",content:o,inverted:!0,style:{fontSize:t?"1.5em":"1.7em",fontWeight:"normal",marginTop:t?"0.5em":"1.5em"}}),r.a.createElement(pt.a,{primary:!0,color:"linkedin",size:"large",as:E.c,to:c},i,r.a.createElement(ot.a,{name:"right arrow"}))))},un=mt(),sn=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={donateIsDisable:!0,buttonText:"Other amount",donation:0,width:un},n.handleRemoveClick=n.handleRemoveClick.bind(Object(Q.a)(n)),n.handleAddToCart=n.handleAddToCart.bind(Object(Q.a)(n)),n.handleDonationInput=n.handleDonationInput.bind(Object(Q.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleRemoveClick",value:function(e,t){this.props.removeItemFromCart(e,t)}},{key:"handleDonationInput",value:function(e){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&this.setState({donation:e.target.value})}},{key:"handleAddToCart",value:function(e,t){var n=this.state.donation;if("button"===e)this.props.addItemToCart(null,"donation",t);else{var a=parseInt(n);this.props.addItemToCart(null,"donation",a)}}},{key:"render",value:function(){var e=this.state,t=e.donateIsDisable,n=e.buttonText,i=e.width,c=this.props,o=c.pendingOrders,l=c.history,u=o.data.count?o.data.count:0;return r.a.createElement(a.Fragment,null,r.a.createElement(ln,null),u>0&&r.a.createElement(Xt,{pendingOrders:o.data,handleRemoveClick:this.handleRemoveClick,history:l,count:u,width:i}),r.a.createElement(nn,{handleDonationInput:this.handleDonationInput,handlePayNow:this.handlePayNow,donateIsDisable:t,handleAddToCart:this.handleAddToCart,buttonText:n}))}}]),t}(a.Component),dn=Object(m.b)(function(e){return{pendingOrders:le(e)}},{fetchPendingOrder:en,removeItemFromCart:function(e,t){return function(n){n(Ze("DELETED_FROM_CART")),function(e,t){return ge.a.post("".concat(_e,"/remove-item/"),Se(e,t),Ie)}(e,t).then(function(e){n(et("DELETED_FROM_CART",e.data)),n(en())},function(e){n(nt({errorMsg:e.message})),n(tt("DELETED_FROM_CART_ERROR",e))})}},addItemToCart:Zt})(Object(G.g)(sn));function mn(){var e=Object(Lt.a)(["\n  border-radius: 0 !important;\n"]);return mn=function(){return e},e}var hn=Object(Dt.a)(pt.a)(mn()),pn=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={paymentOption:"",isLoading:!1,isDisabled:!0},n.handleTextInput=n.handleTextInput.bind(Object(Q.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleTextInput",value:function(){this.setState({isDisabled:!1})}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.checkout;e.checkout!==n&&n.dataReceived&&(this.setState({isLoading:!1}),setTimeout(function(){t.props.history.push("/user-profile")},1e3))}},{key:"handlePayNow",value:function(){this.setState({isLoading:!0,donateIsDisable:!0});var e=this.props,t=e.clickedSubmit,n=e.makePayment;t(),setTimeout(function(){return n()},1e3)}},{key:"render",value:function(){var e=this,t=this.state,n=t.isLoading,a=t.isDisabled;return r.a.createElement(it.a,{fluid:!0},r.a.createElement(it.a.Content,{header:"Payment"}),r.a.createElement(it.a.Content,null,r.a.createElement(Ot.a.Group,{widths:"equal"},r.a.createElement(vt.a,null,r.a.createElement(zt.CardElement,{onFocus:function(){return e.setState({isDisabled:!1})}})))),r.a.createElement(it.a.Content,{extra:!0},r.a.createElement(hn,{color:"orange",fluid:!0,onClick:function(){return e.handlePayNow()},loading:n,disabled:a},"PAY NOW")))}}]),t}(a.Component),En=Object(m.b)(function(e){return{checkout:ce(e)}},{makePayment:function(){return function(e){e(Ze("REQUEST_CHECKOUT")),function(){var e={stripeToken:localStorage.getItem("stripeToken")};return ge.a.post("".concat(_e,"/checkout/"),e,Ie)}().then(function(t){e(et("RECEIVE_CHECKOUT",t.data)),e(en()),e(nt({successMsg:t.data.message})),st(["subscriptionId","stripeToken"])},function(t){e(nt({errorMsg:t.message})),e(tt("CHECKOUT_ERROR",t))})}}})(Object(G.g)(pn)),fn=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={error:!1,message:"",isLoading:!1},n.clickedSubmit=n.clickedSubmit.bind(Object(Q.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"clickedSubmit",value:function(){var e=this,t=this.props.stripe;t&&t.createToken().then(function(t){t.error?e.setState({error:!0,isLoading:!1,message:t.error.message}):localStorage.setItem("stripeToken",t.token.id)})}},{key:"render",value:function(){var e=this.state,t=e.error,n=e.message;return r.a.createElement(vt.a,{style:{marginTop:40}},r.a.createElement(Kt.a,{stackable:!0},r.a.createElement(Kt.a.Row,null,r.a.createElement(Kt.a.Column,{width:9},r.a.createElement(dn,null)),r.a.createElement(Kt.a.Column,{width:7},t&&r.a.createElement(kt.a,{negative:!0},r.a.createElement(kt.a.Header,null,"Payment not successful!"),r.a.createElement("p",null,n)),r.a.createElement(En,{clickedSubmit:this.clickedSubmit})))))}}]),t}(a.Component),bn=Object(zt.injectStripe)(fn),gn=function(){return r.a.createElement(zt.StripeProvider,{apiKey:"pk_test_wbwSPsjAPpig1d7f4nP97LsX00zgMUqGbp"},r.a.createElement(Y.a,null,r.a.createElement(zt.Elements,null,r.a.createElement(bn,null))))},vn=n(522),Cn=n(519),kn=function(e){var t=e.field,n=t.meta,i=n.touched,c=n.error;return"Description"===t.label?r.a.createElement(a.Fragment,null,r.a.createElement(Ot.a.TextArea,Object.assign({color:"red"},t.input,{placeholder:t.label,autoComplete:t.name,type:t.name,error:i&&c?c:null}))):r.a.createElement(a.Fragment,null,r.a.createElement(Ot.a.Input,Object.assign({color:"red"},t,{icon:"pencil alternate",placeholder:t.label,autoComplete:t.name,type:t.name,error:i&&c?c:null})))},Tn=function(e){var t=e.field;return r.a.createElement(vn.a,Object.assign({},t,{name:"prority_level",label:"Priority",component:"select",placeholder:"Priority"}),r.a.createElement("option",{value:""},"Select priority level"),r.a.createElement("option",{value:"low"},"Low"),r.a.createElement("option",{value:"medium"},"Medium"),r.a.createElement("option",{value:"high"},"High"))},On=function(e){var t=e.valid,n=e.pristine,a=e.hasError,i=e.buttonText,c=e.isLoading;return r.a.createElement(pt.a,{color:"blue",fluid:!0,size:"large",type:"submit",loading:c&&!a,disabled:(!t||n)&&!0},i)},yn=n(511),Rn=function(e){var t=e.handleChange,n=e.isBug,i=e.isFeature;return r.a.createElement(a.Fragment,null,r.a.createElement(Ot.a.Field,null,r.a.createElement(bt.a,{as:"h4"},"Selected ticket type")),r.a.createElement(Ot.a.Field,null,r.a.createElement(yn.a,{label:"Bug",name:"radioGroup",value:"bug",checked:n,onChange:function(){return t()}})),r.a.createElement(Ot.a.Field,null,r.a.createElement(yn.a,{label:"Feature",name:"radioGroup",value:"feature",checked:i,onChange:function(){return t()}})))},jn=(n(483),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={isLoading:!1,isFeature:!1,isBug:!0},n.handleSubmitClick=n.handleSubmitClick.bind(Object(Q.a)(n)),n.handleChange=n.handleChange.bind(Object(Q.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.ticket,a=t.user;e.ticket!==n&&void 0!==n.data.id&&this.props.history.push("/ticket/".concat(n.data.id)),e.user!==a&&a.data&&a.dataReceived}},{key:"renderField",value:function(e){return r.a.createElement(kn,{field:e})}},{key:"handleChange",value:function(){var e=this.state,t=e.isBug,n=e.isFeature;this.setState({isBug:!t,isFeature:!n})}},{key:"handleSubmitClick",value:function(e){var t=this.state,n=t.isBug,a=t.isFeature,r=e.subject,i=r.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,""),c={is_bug:n,is_feature:a},o=Object(U.a)({},e,{tag:i},c);this.props.createTicket(o)}},{key:"render",value:function(){var e=this,t=this.props,n=t.handleSubmit,a=t.field,i=t.errorAlert,c=t.valid,o=t.pristine,l=t.user,u=this.state,s=u.isLoading,d=u.isBug,m=u.isFeature,h=u.value;return l.dataReceived&&l.data.current_membership.membership.is_pro_member?r.a.createElement(Y.a,{style:{paddingTop:20}},r.a.createElement(kt.a,{header:"Create a Ticket",content:"Fill out the form below to create a ticket",attached:!0}),""!==i.status&&i.status?r.a.createElement(kt.a,{size:"small",error:!0,header:"Error creating ticket: ",content:i.alertMsg}):null,r.a.createElement(Ot.a,{className:"attached fluid segment",onSubmit:n(this.handleSubmitClick)},r.a.createElement(Rn,{value:h,handleChange:this.handleChange,isBug:d,isFeature:m}),r.a.createElement(vn.a,{name:"title",label:"Title",component:this.renderField}),r.a.createElement(vn.a,{name:"subject",label:"Subject",component:this.renderField}),r.a.createElement(vn.a,{name:"description",label:"Description",component:this.renderField}),r.a.createElement(Tn,{field:a}),r.a.createElement("div",{style:{paddingTop:10}},r.a.createElement(On,{pristine:o,valid:c,isLoading:s,onClick:function(){return e.setState({isLoading:!0})},buttonText:"Submit"})))):r.a.createElement(G.a,{to:"/login"})}}]),t}(a.Component)),_n=Object(Cn.a)({validate:ht,form:"CreateTicketForm"})(Object(m.b)(function(e){return{errorAlert:$(e),auth:q(e),ticket:ne(e),user:J(e)}},{createTicket:function(e){return function(t){t(Ze("CREATE_TICKET")),function(e){return Ke.apply(this,arguments)}(e).then(function(e){t(et("RECEIVE_TICKET",e.data))},function(e){t(at("CREATE_TICKET_ERROR",e))})}}})(Object(G.g)(jn))),In=n(517),An=n(530),Sn=function(e){var t=e.header,n=e.color,a=e.component,i=e.otherProps,c=e.subheader,o=e.isLoading,l=e.headerSize;return r.a.createElement(it.a,{fluid:!0,padded:"true"},r.a.createElement(bt.a,{as:l,attached:!0,content:t,color:n,subheader:c}),r.a.createElement(vt.a,{attached:!0,stacked:!0,loading:o},a),i)},wn=function(e){var t=e.label,n=e.value;return r.a.createElement(An.a,null,r.a.createElement(An.a.Value,null,n),r.a.createElement(An.a.Label,null,t))},Ln=function(e){var t=e.ticketList,n=function(e){var n=[];return Object.keys(t).forEach(function(a){t[a].status===e&&n.push(t[a]),t[a][e]&&n.push(t[a])}),n.length};return r.a.createElement(Sn,{attached:!0,header:"Current",component:r.a.createElement(An.a.Group,null,r.a.createElement(wn,{label:"Bugs",value:n(D.is_bug)}),r.a.createElement(wn,{label:"Features",value:n(D.is_feature)}),r.a.createElement(wn,{label:"Completed",value:n(D.done)}))})},Dn=function(e,t){return t/e*100},xn=function(e){var t=e.ticketList,n=e.value;return Object.keys(t).map(function(e){var a=t[e],i=a.title,c=a.username,o=a.short_desc,l=a.status,u=a.votes,s=a.id;return n===l&&r.a.createElement(it.a,{key:e,fluid:!0},"todo"===l&&r.a.createElement(In.a,{percent:Dn(2,u),attached:"top",warning:!0}),r.a.createElement(it.a.Content,null,r.a.createElement(it.a.Header,{as:E.b,to:"/ticket/".concat(s)},i),r.a.createElement(it.a.Meta,null,c),r.a.createElement(it.a.Description,null,o)),r.a.createElement(it.a.Content,{textAlign:"right"},r.a.createElement(bt.a,{as:"h5",textAlign:"left"},"Votes: ",u)))})},Un=function(e){var t=e.ticketList;return r.a.createElement(it.a.Group,null,r.a.createElement(Ln,{ticketList:t}),r.a.createElement(it.a.Group,{itemsPerRow:3,stackable:!0,style:{paddingTop:15}},r.a.createElement(Sn,{header:"Todo",color:"grey",component:r.a.createElement(xn,{value:"todo",ticketList:t})}),r.a.createElement(Sn,{header:"In Progress",color:"grey",component:r.a.createElement(xn,{value:"doing",ticketList:t})}),r.a.createElement(Sn,{header:"Completed",color:"green",component:r.a.createElement(xn,{value:"done",ticketList:t})})))},Mn=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchTicketsList()}},{key:"render",value:function(){var e=this.props.tickets;return e.data&&r.a.createElement(a.Fragment,null,r.a.createElement(ln,null),r.a.createElement(vt.a,{padded:!0},e.data.length>0?r.a.createElement(Un,{ticketList:e.data}):r.a.createElement(Mt,{message:"No tickets at this time.",redirect:"/create-ticket",linkText:"Create a ticket"})))}}]),t}(a.Component),Fn=Object(m.b)(function(e){return{tickets:te(e)}},{fetchTicketsList:_t})(Mn),Pn=n(73),Bn=n(513),Hn=function(e){var t=e.editOption,n=e.handleFieldChange;return Object.keys(t).map(function(e,i){return x.includes(e)&&r.a.createElement(a.Fragment,{key:i},"content"===e||"description"===e?r.a.createElement(Ot.a.Field,{id:e,control:Bn.a,style:{minHeight:300},label:e.toUpperCase(),defaultValue:t[e],onChange:function(t){return n(e,t)}}):r.a.createElement(Ot.a.Field,{id:e,control:tn.a,label:e.toUpperCase(),defaultValue:t[e],onChange:function(t){return n(e,t)}}))})},Nn=function(e){var t=e.headerText,n=e.fieldComponent,a=e.handleSubmitClick,i=e.updating;return r.a.createElement(Y.a,{style:{paddingTop:20}},r.a.createElement(bt.a,{content:t}),r.a.createElement(vt.a,null,r.a.createElement(Ot.a,null,n,r.a.createElement(pt.a,{loading:i,size:"small",color:"blue",type:"submit",onClick:function(){return a()}},"Submit"))))},Vn=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).handleFieldChange=function(e,t){var a=n.state.editFields;t.preventDefault(),n.setState({editFields:Object(U.a)({},a,Object(Pn.a)({},e,t.target.value))})},n.state={updating:!1,editFields:""},n.handleSubmitClick=n.handleSubmitClick.bind(Object(Q.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.requestTicketsDetail(e)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.editTicket,a=t.ticket;if(e.ticket.data!==a.data&&this.setState({editFields:a.data.data}),e.editTicket.data!==n.data){var r=this.props.match.params.id;this.props.history.push("/ticket/".concat(r))}}},{key:"handleSubmitClick",value:function(){this.setState({updating:!0});var e,t=parseInt(this.props.match.params.id),n=this.state.editFields,a=["title","description","subject"];Object.keys(n).forEach(function(t){a.includes(t)||(delete n[t],e=n)}),this.props.updateTicket(t,e)}},{key:"render",value:function(){var e=this.state.updating,t=this.props,n=t.ticket,a=t.ticket.data.data;return n.dataReceived&&r.a.createElement(Nn,{headerText:"Edit your ticket",handleSubmitClick:this.handleSubmitClick,updating:e,fieldComponent:r.a.createElement(Hn,{editOption:a,handleFieldChange:this.handleFieldChange})})}}]),t}(a.Component),zn=Object(m.b)(function(e){return{ticket:Z(e),editTicket:ee(e)}},{requestTicketsDetail:It,updateTicket:function(e,t){return function(n){n(Ze("REQUEST_TICKET_UPDATE")),function(e,t){return De.apply(this,arguments)}(e,t).then(function(e){n(nt({successMsg:"Ticket updated"})),n(et("RECEIVE_TICKET_UPDATE",e.data))},function(e){n(at("TICKET_UPDATE_ERROR",e))})}}})(Object(G.g)(Vn));function Kn(e,t){return localStorage.setItem("sessionToken",e),localStorage.setItem("sessionLife",t),function(e){e(function(e){})}}var Gn=function(){return ve?function(e){e(Ze("USER_AUTH_LOGOUT")),function(){return ze.apply(this,arguments)}(ve).then(function(t){st(["sessionToken","sessionLife","currentMembership","selectedMembership"]),e(nt({successMsg:"You have successfully logged out!"})),window.location.reload()},function(t){st(["sessionToken","sessionLife","currentMembership"]),e(nt({errorMsg:"Error login out"})),window.location.reload()})}:function(e){return null}},Qn=function(){return function(e){e(Ze("FETCHING_USER")),function(){return He.apply(this,arguments)}().then(function(t){var n=t.data,a=n.username,r=n.id,i=n.email,c=n.current_membership;e(et("RECEIVED_USER",t.data)),function(e,t,n,a){var r=JSON.stringify(Object(U.a)({},j,{username:e,userId:t,email:n,currentMembership:a}));localStorage.setItem("currentMembership",a),localStorage.setItem("customer",r)}(a,r,i,c)},function(t){e(nt({errorMsg:t.response.data})),e(tt("FETCH_USER_ERROR",t))})}},Yn=n(292),Wn=n.n(Yn),qn=n(293),Jn=n.n(qn);function $n(){var e=Object(Lt.a)(["\n  text-transform: uppercase;\n"]);return $n=function(){return e},e}var Xn=Dt.a.span($n()),Zn=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).handlelogout=n.handlelogout.bind(Object(Q.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handlelogout",value:function(){this.props.logOut()}},{key:"render",value:function(){return r.a.createElement(a.Fragment,null,r.a.createElement(ln,null),r.a.createElement(vt.a,{style:{padding:"3rem 0rem"},vertical:!0},r.a.createElement(Kt.a,{container:!0,stackable:!0,verticalAlign:"middle",textAlign:"center"},r.a.createElement(Kt.a.Row,null,r.a.createElement(Kt.a.Column,{floated:"left",textAlign:"center",width:8},r.a.createElement(ct.a,{bordered:!0,rounded:!0,src:Wn.a})),r.a.createElement(Kt.a.Column,{width:8},r.a.createElement(bt.a,{as:"h3"},r.a.createElement(Xn,null,"Problems are everywhere, solutions are here!")),r.a.createElement("p",{style:{fontSize:"1.2rem"}},"We've got you covered for with all python, react, django, flask, code issues."),r.a.createElement(bt.a,{as:"h3"},r.a.createElement(Xn,null,"Explore Unicorn-Pro ")),r.a.createElement("p",{style:{fontSize:"1.2rem"}},"Get your questions or issues resolved in no time"))),r.a.createElement(Kt.a.Row,null,r.a.createElement(Kt.a.Column,{textAlign:"center"},r.a.createElement(pt.a,{size:"medium",color:"orange",as:E.c,to:"/pricing"},r.a.createElement(Xn,null,"Explore Pro Service")))))),r.a.createElement(vt.a,{style:{padding:"0rem"},vertical:!0},r.a.createElement(Kt.a,{celled:"internally",columns:"equal",stackable:!0},r.a.createElement(Kt.a.Row,{textAlign:"center"},r.a.createElement(Kt.a.Column,{style:{paddingBottom:"5rem",paddingTop:"5rem"}},r.a.createElement(bt.a,{as:"h2"},r.a.createElement(Xn,null,"File your ticket")),r.a.createElement("p",{style:{fontSize:"1.3rem"}},"Head start on coding issues and save hours!"),r.a.createElement(bt.a,{as:"h2"},r.a.createElement(Xn,null,"Learn about the Unicorn Project"," ")),r.a.createElement("p",{style:{fontSize:"1.3rem"}},"Learn more on how it is structure and how it runs, we tell it all")),r.a.createElement(Kt.a.Column,{style:{paddingBottom:"3rem",paddingTop:"2em"},width:8},r.a.createElement(ct.a,{bordered:!0,rounded:!0,src:Jn.a}))))),r.a.createElement(vt.a,{style:{padding:"3rem 0rem"},textAlign:"center",vertical:!0},r.a.createElement(Y.a,{text:!0},r.a.createElement(bt.a,{as:"h2"},r.a.createElement(Xn,null," Make a kind contribution")),r.a.createElement("p",{style:{fontSize:"1.3rem"}},"To keep the business running and the lights on, you can make a kind contribution."),r.a.createElement(pt.a,{as:E.c,to:"/checkout",color:"orange",size:"medium"},"Make a Donation"))))}}]),t}(a.Component),ea=Object(m.b)(function(e){return{user:q(e)}},{logOut:Gn})(Zn),ta=function(e){var t=e.field,n=e.touched,i=e.error;return r.a.createElement(a.Fragment,null,r.a.createElement(Ot.a.Input,Object.assign({color:"red"},t.input,{fluid:!0,icon:"Password"===t.label?"lock":"user",iconPosition:"left",placeholder:t.label,autoComplete:" Password"===t.label?"current-password":"username",type:"Password"===t.label?"password":"text",error:n&&i?i:null,pointing:"below"})))},na=function(e){var t=e.header;return r.a.createElement(bt.a,{as:"h2",color:"black",textAlign:"center",centered:"false"},t)},aa=function(e){var t=e.errors;return r.a.createElement(kt.a,{error:!0,size:"small",attached:!0},r.a.createElement(kt.a.Header,null,r.a.createElement(kt.a.List,null,Object.keys(t).map(function(e){return r.a.createElement(kt.a.Item,{key:e},t[e])}))))};function ra(){var e=Object(Lt.a)(["\n  padding: 10vh 0;\n"]);return ra=function(){return e},e}var ia=["/create-ticket","/checkout","cart"],ca=Object(Dt.a)(Y.a)(ra()),oa=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={isLoading:!1},n.handleLoginClick=n.handleLoginClick.bind(Object(Q.a)(n)),n.renderField=n.renderField.bind(Object(Q.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.props.auth.isAuthenticated&&ia.includes(window.location.pathname)&&this.props.history.push("".concat(this.props.match.url))}},{key:"handleLoginClick",value:function(e){this.setState({isLoading:!0}),this.props.login(e)}},{key:"renderField",value:function(e){var t=e.meta,n=t.touched,a=t.error;return r.a.createElement(ta,{field:e,error:a,touched:n})}},{key:"render",value:function(){var e=this.props,t=e.auth,n=t.isAuthenticated,a=t.hasError,i=e.auth,c=e.valid,o=e.pristine,l=e.handleSubmit,u=this.state.isLoading;return n?r.a.createElement(G.a,{to:"/home"}):r.a.createElement(ca,null,r.a.createElement(na,{header:"Login"}),r.a.createElement(Kt.a,{textAlign:"center",verticalAlign:"middle"},r.a.createElement(Kt.a.Column,{style:{maxWidth:500}},a&&r.a.createElement(aa,{errors:i.data}),r.a.createElement(Ot.a,{size:"large",onSubmit:l(this.handleLoginClick)},r.a.createElement(vt.a,{stacked:!0},r.a.createElement(vn.a,{name:"username",label:"Username",component:this.renderField}),r.a.createElement("br",null),r.a.createElement(vn.a,{secureTextEntry:!0,name:"password",label:"Password",component:this.renderField}),r.a.createElement("br",null),r.a.createElement(On,{isLoading:u,buttonText:"Login",valid:c,pristine:o,hasError:a}),r.a.createElement(Mt,{message:"Dont have an account?",redirect:"/signup",linkText:"Sign up"}))))))}}]),t}(a.Component);var la=Object(Cn.a)({validate:function(e){var t={};return e.username||(t.username="Enter a username"),e.password||(t.password="Enter a password"),t},form:"LoginForm"})(Object(m.b)(function(e){return{auth:q(e)}},{login:function(e){return function(t){t(Ze("REQUEST_LOGIN")),function(e){return Ve.apply(this,arguments)}(e).then(function(e){var n=e.data.token,a=new Date((new Date).getTime()+18e5);t(et("USER_AUTH_SUCCESS",n)),t(Kn(n,a)),t(nt({successMsg:e.data.message})),window.location.reload()},function(e){t(tt(k,e.response.data)),st(["sessionToken","sessionLife","currentMembership"])})}}})(Object(G.g)(oa))),ua=function(e){return e.services.map(function(e,t){return r.a.createElement(Jt.a,{style:{paddingLeft:20},key:t},r.a.createElement(Jt.a.Item,null,r.a.createElement(ot.a,{name:"check"}),r.a.createElement(Jt.a.Content,null,r.a.createElement(Jt.a.Description,null,e))))})},sa={marginRight:50,marginLeft:10},da={marginLeft:50,marginRight:10},ma=Object(G.g)(function(e){var t=e.memberships,n=e.handleAddToCart,a=e.buttonTextPro,i=e.buttonTextFree,c=e.history,o=e.isAuthenticated;e.allAccess;return r.a.createElement(Kt.a,{stackable:!0,columns:"equal",style:{paddingTop:50}},r.a.createElement(Kt.a.Row,null,Object.keys(t).map(function(e){var l=t[e],u=l.price,s=l.id,d=l.slug,m=d===w.free,h=m?i:a,p=m?"blue":"black",E="Unicorn ".concat(d);return r.a.createElement(Kt.a.Column,{key:s,style:m?Object(U.a)({},da):Object(U.a)({},sa)},r.a.createElement(it.a,{fluid:!0,style:{borderRadius:0}},r.a.createElement(bt.a,{as:"h3",attached:!0,color:m?"blue":"black",textAlign:"center",content:E.toUpperCase(),subheader:"\u20ac ".concat(u,m?" Per / month":" Per User / month")}),m&&r.a.createElement(ua,{services:T}),!m&&r.a.createElement(ua,{services:O}),r.a.createElement(pt.a,{attached:"bottom",disabled:m&&o,content:h.toUpperCase(),color:p,onClick:m?function(){return c.push("/signup")}:function(){return n(s)}})))})))}),ha=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={buttonTextFree:"Free Signup",buttonTextPro:"Add to cart",buttonDisabled:!0,redirectParam:"",allAccess:""},n.handleAddToCart=n.handleAddToCart.bind(Object(Q.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchMembershipsList()}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,a=n.cart,r=n.user;if(e.cart.data!==a.data&&a.data&&Object.keys(a.data.orders).length>0){var i=a.data.orders;Object.keys(i).forEach(function(e){if(i[e].membership===w.pro)return t.setState({buttonTextPro:"Item in your cart"})})}if(e.user!==r&&r.data&&r.data.username){var c=r.data.current_membership.membership.is_pro_member;this.setState({allAccess:c}),c||this.setState({buttonTextFree:"Your current membership"})}}},{key:"handleAddToCart",value:function(e){if(this.props.auth.isAuthenticated)return this.props.addItemToCart(e,S.membership);this.setState({buttonTextPro:"Lets signup first"})}},{key:"render",value:function(){var e=this.props,t=e.memberships,n=e.auth.isAuthenticated,i=e.history,c=this.state,o=c.buttonTextFree,l=c.buttonTextPro,u=c.buttonDisabled,s=c.redirectParam,d=c.allAccess;return r.a.createElement(a.Fragment,null,r.a.createElement(ln,null),r.a.createElement(ma,{isAuthenticated:n,memberships:t,getMembershipChoice:this.renderServicesList,handleAddToCart:this.handleAddToCart,buttonTextFree:o,buttonTextPro:l,buttonDisabled:u,redirectParam:s,history:i,allAccess:d}))}}]),t}(a.Component),pa=Object(m.b)(function(e){return{auth:q(e),memberships:ie(e),cart:le(e),user:J(e)}},{fetchMembershipsList:function(){return function(e){e(Ze("FETCHING_MEMBERSHIPS")),function(){return Pe.apply(this,arguments)}().then(function(t){e(et("RECEIVE_MEMBERSHIPS_LIST",t.data))},function(t){e(at("FETCH_MEMBERSHIPS_ERROR",t))})}},addItemToCart:Zt})(ha),Ea=function(e){var t=e.field,n=e.error,a=e.touched;return r.a.createElement(Ot.a.Input,Object.assign({color:"red"},t.input,{fluid:!0,icon:"Password"===t.label||"Confirm Password"===t.label?"lock":"Email"===t.label?"mail":"user",iconPosition:"left",placeholder:t.label,autoComplete:"Password"===t.label||"Confirm Password"===t.label?"new-password":"Email"===t.label?"email":t.name,type:"Password"===t.label||"Confirm Password"===t.label?"password":"text",error:n&&a?n:null}))};function fa(){var e=Object(Lt.a)(["\n  padding: 10vh 0;\n"]);return fa=function(){return e},e}var ba=Object(Dt.a)(Y.a)(fa()),ga=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={showModal:!0,loginModal:!1,isLoading:!1,buttonDisabled:!0},n.handleSignupClick=n.handleSignupClick.bind(Object(Q.a)(n)),n.renderField=n.renderField.bind(Object(Q.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleSignupClick",value:function(e){this.setState({isLoading:!0}),this.props.signup(e)}},{key:"componentDidUpdate",value:function(){this.props.auth.isAuthenticated&&window.location.reload()}},{key:"renderField",value:function(e){var t=e.meta,n=t.touched,a=t.error;return r.a.createElement(Ea,{field:e,touched:n,error:a})}},{key:"render",value:function(){var e=this.props,t=e.valid,n=e.pristine,i=e.handleSubmit,c=e.auth,o=c.isAuthenticated,l=c.hasError,u=e.auth,s=this.state.isLoading;return o?r.a.createElement(G.a,{to:"/"}):r.a.createElement(a.Fragment,null,r.a.createElement(ba,null,r.a.createElement(na,{header:"Lets get you setup for your Unicorn Account"}),r.a.createElement(Kt.a,{textAlign:"center"},r.a.createElement(Kt.a.Column,{style:{maxWidth:500}},l&&r.a.createElement(aa,{errors:u.data}),r.a.createElement(Ot.a,{size:"large",onSubmit:i(this.handleSignupClick)},r.a.createElement(vt.a,{stacked:!0},r.a.createElement(vn.a,{name:"username",label:"Username",component:this.renderField}),r.a.createElement("br",null),r.a.createElement(vn.a,{name:"email",label:"Email",component:this.renderField}),r.a.createElement("br",null),r.a.createElement(vn.a,{name:"password",label:"Password",component:this.renderField}),r.a.createElement("br",null),r.a.createElement(On,{isLoading:s,buttonText:"Sign up",valid:t,pristine:n,hasError:l}),r.a.createElement(Mt,{message:"Already have an account?",redirect:"/login",linkText:"Login"})))))))}}]),t}(a.Component);var va=Object(Cn.a)({validate:function(e){var t={};return e.username||(t.username="Enter a username"),e.password||(t.password="Enter a password"),e.email||(t.email="Enter a Email"),t},form:"LoginForm"})(Object(m.b)(function(e){return{auth:q(e),error:$(e).alertMsg}},{signup:function(e){return function(t){t(Ze("REQUEST_SIGNUP")),function(e){return Ne.apply(this,arguments)}(e).then(function(e){var n=e.data.token,a=new Date((new Date).getTime()+18e5);t(nt({successMsg:"You have successfully signed up!"})),t(et("USER_AUTH_SUCCESS",n)),t(Kn(n,a))},function(e){t(nt({errorMsg:e.response.data})),t(tt(k,e.response.data))})}}})(ga)),Ca=function(e){var t=e.handleVoteClick,n=e.allAccess,a=e.views,i=e.votes,c=e.id;return r.a.createElement(An.a.Group,{size:"mini",color:"black"},r.a.createElement(An.a,{style:{marginRight:0},as:"a"},r.a.createElement(bt.a,{as:"h5",style:{marginBottom:0}},i>0?i:0),r.a.createElement(ot.a,{link:!0,name:"thumbs up",color:"grey",as:"i",fitted:!0,disabled:!n,onClick:function(){return t(c)}})),r.a.createElement(An.a,{style:{paddingLeft:0}},r.a.createElement(bt.a,{as:"h5",style:{marginBottom:5}},a>0?a:0),r.a.createElement(ot.a,{name:"eye",color:"grey",fitted:!0})))},ka=function(e){var t=e.isLoading,n=e.data,a=e.handleTicketDelete,i=e.allAccess,c=e.dataReceived,o=e.handleVoteClick,l=e.isOwner,u=n.title,s=n.description,d=n.votes,m=n.views,h=n.id;return t?r.a.createElement(Qt,null):c&&r.a.createElement(vt.a.Group,{style:{paddingLeft:10}},r.a.createElement(vt.a.Group,{horizontal:!0},r.a.createElement(vt.a,null,r.a.createElement(bt.a,{content:u.toUpperCase(),color:"blue"})),r.a.createElement(vt.a,null,i&&r.a.createElement(Et,{handleTicketDelete:function(){return a()},id:h,isOwner:l,isTicket:!0}))),r.a.createElement(vt.a,null,r.a.createElement(it.a.Content,{description:s})),r.a.createElement(vt.a,null,r.a.createElement(Ca,{handleVoteClick:function(){return o(h)},allAccess:i,votes:d,views:m,id:h})))},Ta=n(528),Oa=function(e){var t=e.activeIndex,n=e.index,a=e.handleAccordionClick,i=e.addToCart,c=e.solution,o=e.id,l=e.buttonText,u=e.isAuthenticated,s=e.handleAddToCart;return r.a.createElement(Ta.a,{styled:!0,fluid:!0},r.a.createElement(Ta.a.Title,{active:0===t,index:n,onClick:function(){return a()}},r.a.createElement(ot.a,{name:"dropdown"}),c.show?"Paid Ticket Solution":"Solution"),r.a.createElement(Ta.a.Content,{active:0===t},c.show?r.a.createElement("p",{style:{paddingLeft:10}},c.solution):r.a.createElement(vt.a,{clearing:!0},r.a.createElement(bt.a,{as:"h5"},"Ticket solution requires payment"),r.a.createElement(pt.a,{size:"tiny",color:"orange",onClick:u?function(){return i(o)}:function(){return s()},floated:"right"},l))))},ya={index:0,buttonText:"Add to Cart",showConfirmModal:!1},Ra=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).handleAccordionClick=function(){var e=n.state,t=e.activeIndex,a=e.index,r=t===a?-1:a;n.setState({activeIndex:r})},n.state=Object(U.a)({},ya),n.handleVoteClick=n.handleVoteClick.bind(Object(Q.a)(n)),n.handleTicketDelete=n.handleTicketDelete.bind(Object(Q.a)(n)),n.handleAccordionClick=n.handleAccordionClick.bind(Object(Q.a)(n)),n.handleAddToCart=n.handleAddToCart.bind(Object(Q.a)(n)),n.handleConfirm=n.handleConfirm.bind(Object(Q.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.props.requestTicketsDetail(t),setTimeout(function(){e.props.fetchTicketSolution(t)},100)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.ticket,a=t.user;e.ticket.dataReceived!==n.dataReceived&&a.isAuthenticated}},{key:"handleAddToCart",value:function(e){if(e)return this.props.addItemToCart(e,S.ticket);this.setState({buttonText:"Login to Add to Cart"})}},{key:"updateVoteCount",value:function(){var e=this.props.ticket.ticket.votes;this.setState({voteCount:e})}},{key:"handleTicketDelete",value:function(){this.setState({showConfirmModal:!0})}},{key:"handleCancel",value:function(){this.setState({showConfirmModal:!1})}},{key:"handleConfirm",value:function(){var e=this.props.match.params.id;this.props.deleteTicket(e),setTimeout(this.props.history.push("/tickets"),1e3)}},{key:"handleVoteClick",value:function(e){this.props.updatedTicketVote(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.ticket,a=n.isLoading,i=n.dataReceived,c=n.data,o=c.data,l=c.comments,u=c.isOwner,s=t.solution,d=t.user,m=this.state,h=m.activeIndex,p=m.index,E=m.buttonText,f=m.showConfirmModal,b=d.dataReceived&&d.data.current_membership.membership.is_pro_member;return i&&r.a.createElement(Y.a,{style:{paddingTop:50}},r.a.createElement(W.a,{open:f,cancelButton:"Cancel",confirmButton:"Yes delete",onCancel:function(){return e.handleCancel()},onConfirm:function(){return e.handleConfirm()}}),r.a.createElement(ka,{allAccess:b,data:o,isLoading:a,buttonText:E,handleTicketDelete:this.handleTicketDelete,dataReceived:i,handleVoteClick:this.handleVoteClick,user:d.data,isOwner:u}),!o.is_bug&&r.a.createElement(Oa,{handleAccordionClick:this.handleAccordionClick,activeIndex:h,index:p,solution:s.data,isAuthenticated:d.isAuthenticated,addToCart:this.handleAddToCart,id:o.id,buttonText:E,handleAddToCart:this.handleAddToCart}),i&&b?r.a.createElement(wt,{comments:l,ticketId:o.id,isTicket:!0}):r.a.createElement(Mt,{message:"To view and make comments you need a ",linkText:"Unicorn Pro Account.",redirect:"/pricing"}))}}]),t}(a.Component),ja=Object(m.b)(function(e){return{solution:se(e),ticket:Z(e),ticketDelete:ee(e),user:J(e),vote:re(e)}},{requestTicketsDetail:It,updatedTicketVote:At,deleteTicket:function(e){return function(t){t(Ze("REQUEST_TICKET_DELETE")),function(e){return Ue.apply(this,arguments)}(e).then(function(e){t(nt({successMsg:"Ticket deleted"})),t(et("TICKET_DELETED",e.data))},function(e){t(at("DELETE_TICKET_ERROR",e))})}},fetchTicketSolution:function(e){return function(t){t(Ze("REQUEST_TICKET_SOLUTION")),function(e){return Qe.apply(this,arguments)}(e).then(function(e){t(et("RECEIVE_TICKET_SOLUTION",e.data))},function(e){t(at("TICKET_SOLUTION_ERROR",e))})}},addItemToCart:Zt})(Ra),_a=function(e){var t=e.votes,n=e.views,i=e.status;return r.a.createElement(a.Fragment,null,r.a.createElement(ot.a,{style:{fontSize:"1rem"},name:"thumbs up outline",color:"black",size:"large"}),r.a.createElement("span",{style:{paddingRight:10}},t>0?t:0),r.a.createElement(ot.a,{style:{fontSize:"1rem"},name:"eye",color:"black",size:"large"}),r.a.createElement("span",{style:{paddingRight:10,fontSize:"0.8rem"}},n>0?n:0),r.a.createElement("span",{style:{fontSize:"0.8rem"}},i.toUpperCase()))},Ia=function(e){var t=e.ticketsList,n=e.handleAddToCart,a=e.handleVote,i=e.user,c=e.buttonText,o=i.dataReceived&&i.data.current_membership.membership.is_pro_member;return r.a.createElement(Kt.a,{columns:3,stackable:!0},r.a.createElement(Kt.a.Row,null,Object.keys(t).map(function(e){var i=t[e],l=i.title,u=i.id,s=i.created_at,d=i.views,m=i.votes,h=i.username,p=i.status,f=i.short_desc,b=i.is_bug;return r.a.createElement(Kt.a.Column,{key:u},r.a.createElement(vt.a,{style:{marginBottom:10}},r.a.createElement(Yt.a,{style:{marginBottom:5},as:"a",color:b?"teal":"orange",ribbon:"right"},b?"Bug":"Feature"),r.a.createElement(Sn,{header:r.a.createElement(it.a.Header,{as:E.b,to:"ticket/".concat(u),content:l.toUpperCase()}),headerSize:"h4",subheader:r.a.createElement(it.a.Meta,{style:{fontSize:"0.8rem"}},h," | ",dt(s)),color:"black",component:f,otherProps:r.a.createElement(it.a.Content,{extra:!0},r.a.createElement(_a,{votes:m,status:p,views:d}),r.a.createElement(pt.a,{disabled:!o&&b,floated:"right",size:"tiny",color:"orange",onClick:b?function(){return a(u)}:function(){return n(u)}},b?o?"Vote":"Upgrade to PRO to Vote":c))})))})))},Aa=function(e){var t=e.component,n=e.ticketCount,a=e.isLoading,i=e.size;return r.a.createElement(Sn,{header:"TICKETS",headerSize:"h2",subheader:"TOTAL:  ".concat(n),component:t,isLoading:a,size:i})},Sa=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={tickets:"",buttonText:"Add to cart"},n.handleAddToCart=n.handleAddToCart.bind(Object(Q.a)(n)),n.handleVote=n.handleVote.bind(Object(Q.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.ticketsList;this.props.fetchTicketsList(),e.dataReceived&&this.setState({tickets:e.data})}},{key:"handleVote",value:function(e){var t=this.props.user;t.dataReceived&&t.data.current_membership.membership.is_pro_member&&this.props.updatedTicketVote(e)}},{key:"handleAddToCart",value:function(e){this.props.auth.isAuthenticated?this.props.addItemToCart(e,S.ticket):this.setState({buttonText:"Login to Add to cart"})}},{key:"componentDidUpdate",value:function(e){var t=this.props.ticketsList;e.ticketsList!==t&&t.dataReceived&&this.setState({tickets:t.data})}},{key:"render",value:function(){var e,t=this.props,n=t.ticketsList,i=t.user,c=this.state,o=c.tickets,l=c.buttonText,u=""!==(e=o)&&Object.keys(e).length;return r.a.createElement(a.Fragment,null,r.a.createElement(ln,null),r.a.createElement(Aa,{ticketCount:u,isLoading:o.isLoading,component:n.data.length>0&&n.dataReceived?r.a.createElement(Ia,{handleAddToCart:this.handleAddToCart,handleVote:this.handleVote,ticketsList:o,user:i,buttonText:l}):r.a.createElement(Mt,{message:"No tickets at this time.",redirect:"/create-ticket",linkText:"Create a ticket"})}))}}]),t}(a.Component),wa=Object(m.b)(function(e){return{ticketsList:te(e),ticketsCart:oe(e),user:J(e),auth:q(e)}},{fetchTicketsList:_t,addItemToCart:Zt,fetchPendingOrder:en,updatedTicketVote:At})(Sa),La=n(294),Da=n.n(La),xa=function(e){var t=e.purchases.tickets;return r.a.createElement("div",null,r.a.createElement(it.a,{fluid:!0},r.a.createElement(it.a.Content,null,r.a.createElement(it.a.Header,{as:"h2",attached:"top"},"Ticket Purchases")),r.a.createElement(it.a.Content,null,r.a.createElement(Jt.a,{divided:!0,verticalAlign:"middle"},Object.keys(t).map(function(e){var n=t[e],i=n.title,c=n.id;return r.a.createElement(a.Fragment,{key:e},r.a.createElement(Jt.a.Item,null,r.a.createElement(ot.a,{name:"check circle",color:"olive"}),r.a.createElement(Jt.a.Content,null,r.a.createElement(Jt.a.Header,{as:E.b,to:"ticket/".concat(c)},i))))})))))},Ua=function(e){var t=e.user,n=e.handleCancelButtonClick,i=t.username,c=t.current_membership.membership,o=c.next_billing_date,l=c.is_pro_member,u=t.current_membership.purchases.tickets;return r.a.createElement(Kt.a,{stackable:!0,columns:2},r.a.createElement(Kt.a.Column,{width:4},r.a.createElement(it.a,{image:Da.a,meta:"Dated Joined: ".concat(dt(c.date_signedup)),header:i.toUpperCase()})),r.a.createElement(Kt.a.Column,{width:12},r.a.createElement(it.a,{header:"Account: Unicorn ".concat(c.is_pro_member?"PRO":"FREE"),extra:"Permission: ".concat(l?"All accesss":"Limited access"),description:l&&"Next billing date: ".concat(dt(o)),fluid:!0}),u.length>0&&r.a.createElement(xa,{purchases:t.current_membership.purchases}),r.a.createElement(it.a,null,l?r.a.createElement(a.Fragment,null,r.a.createElement(pt.a,{floated:"right",icon:"globe",content:"Cancel Subscription",color:"blue",as:"a",onClick:function(){return n()}}),r.a.createElement("br",null),r.a.createElement(pt.a,{icon:"globe",content:"Deactivate account",floated:"right",color:"blue",as:"a",onClick:function(){return n("deactivate")}})):r.a.createElement(pt.a,{icon:"globe",content:"Deactivate account",floated:"right",color:"blue",as:"a",onClick:function(){return n("deactivate")}}))))},Ma=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={showConfirmModal:!1,userData:"",showDeleteAccount:!1,option:""},n.handleConfirm=n.handleConfirm.bind(Object(Q.a)(n)),n.handleCancelButtonClick=n.handleCancelButtonClick.bind(Object(Q.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchUser()}},{key:"componentDidUpdate",value:function(e){var t=this.props.user;e.user!==t&&t.data.username}},{key:"handleConfirm",value:function(e){var t=this;this.setState({showConfirmModal:!1}),"deactivate"===e?(console.log("will delete account"),setTimeout(function(){localStorage.clear(),t.props.history.push("/home"),window.location.reload()},1e3)):(this.props.cancelSubscription(),setTimeout(function(){localStorage.clear(),t.props.history.push("/home"),window.location.reload()},1e3))}},{key:"handleCancelButtonClick",value:function(e){this.setState({showConfirmModal:!this.state.showConfirmModal,option:e})}},{key:"render",value:function(){var e=this,t=this.props.user,n=this.state,a=n.showConfirmModal,i=n.option;return r.a.createElement(Y.a,{style:{paddingTop:20}},r.a.createElement(vt.a,null,t.dataReceived&&t.data.username&&r.a.createElement(Ua,{user:t.data,handleCancelButtonClick:this.handleCancelButtonClick})),r.a.createElement(W.a,{open:a,cancelButton:"Never mind",confirmButton:"deactivate"===i?"Yes delete my account":"Yes, cancel subscription",content:"Are sure you want to ".concat("deactivate"===i?"delete your account":"cancel your subscription"),onCancel:function(){return e.setState({showConfirmModal:!1})},onConfirm:function(){return e.handleConfirm(i)},size:"tiny",color:"grey"}))}}]),t}(a.Component),Fa=Object(m.b)(function(e){return{user:J(e)}},{cancelSubscription:function(){return function(e){e(Ze("REQUEST_CANCEL_SUBSCRIPTION")),function(){return Be.apply(this,arguments)}().then(function(t){e(et("RECEIVE_SUBSCRIPTION_CANCELED",t.data))},function(t){e(at("CANCEL_SUBSCRIPTION_ERROR",t))})}},fetchUser:Qn})(Object(G.g)(Ma)),Pa=function(e){var t=e.id,n=e.title,a=e.subject,i=e.short_desc,c=e.created_at,o=e.likes,l=e.image,u=e.views;return r.a.createElement(Kt.a.Row,{style:{padding:"3em 0em"}},r.a.createElement(Kt.a,{container:!0,stackable:!0,verticalAlign:"middle"},r.a.createElement(Kt.a.Row,null,r.a.createElement(Kt.a.Column,{floated:"left",width:6},r.a.createElement(ct.a,{bordered:!0,rounded:!0,size:"large",src:l,as:E.c,to:"/article/".concat(t),alt:"image-".concat(t)})),r.a.createElement(Kt.a.Column,{width:8,floated:"right"},r.a.createElement(bt.a,{as:"h2",color:"black"},n.toUpperCase()),r.a.createElement("p",null,dt(c)," | Likes ",o," | Views ",u),r.a.createElement(bt.a,{as:"h4",color:"grey"},a.toUpperCase()),r.a.createElement("p",{style:{fontSize:"1.33em"}},i))),r.a.createElement(Kt.a.Row,null,r.a.createElement(Kt.a.Column,{textAlign:"right"},r.a.createElement(pt.a,{color:"orange",size:"small",as:E.c,to:"/article/".concat(t)},"Read more")))))},Ba=function(e){var t=e.articles;return r.a.createElement("div",null," ",Object.keys(t).map(function(e){var n=t[e],a=n.id,i=n.title,c=n.created_at,o=n.short_desc,l=n.likes,u=n.views,s=n.username,d=n.subject,m=n.image;return r.a.createElement(Pa,{key:e,id:a,title:i,short_desc:o,created_at:c,likes:l,views:u,username:s,subject:d,image:m})}))},Ha=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchArticlesList()}},{key:"render",value:function(){var e=this.props.articles;return r.a.createElement("div",null,r.a.createElement(ln,null),r.a.createElement(Y.a,{style:{paddingTop:20}},e.dataReceived&&r.a.createElement(Ba,{articles:e.data})))}}]),t}(a.Component),Na=Object(m.b)(function(e){return{articles:ue(e),user:J(e),auth:q(e)}},{fetchArticlesList:function(){return function(e){e(Ze("FETCH_ARTICLE_LIST")),function(){return Le.apply(this,arguments)}().then(function(t){e(et("RECEIVE_ARTICLE_LIST",t.data))},function(t){e(at("ARTICLE_LIST_ERROR",t))})}}})(Ha),Va=function(e){var t=e.field,n=t.meta,i=n.touched,c=n.error;return"Content"===t.label?r.a.createElement(a.Fragment,null,r.a.createElement(Ot.a.TextArea,Object.assign({style:{minHeight:300},color:"red"},t.input,{placeholder:t.label,autoComplete:t.name,type:t.name,error:i&&c?c:null}))):r.a.createElement(a.Fragment,null,r.a.createElement(Ot.a.Input,Object.assign({color:"red"},t,{icon:"pencil alternate",placeholder:t.label,autoComplete:t.name,type:t.name,error:i&&c?c:null})))},za=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={isLoading:!1},n.handlePublish=n.handlePublish.bind(Object(Q.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.article;t.user;e.article!==n&&void 0!==n.data.id&&this.props.history.push("/article/".concat(n.data.id))}},{key:"handlePublish",value:function(e){this.props.createArticle(e)}},{key:"renderField",value:function(e){return r.a.createElement(Va,{field:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.handleSubmit,a=(t.field,t.errorAlert),i=t.valid,c=t.pristine,o=t.user,l=this.state,u=l.isLoading;l.value;return o.dataReceived&&o.data.current_membership.membership?r.a.createElement(Y.a,{style:{paddingTop:20}},r.a.createElement(bt.a,{content:"Add a new article"}),""!==a.status&&a.status?r.a.createElement(kt.a,{size:"small",error:!0,header:"Error creating ticket: ",content:a.alertMsg}):null,r.a.createElement(Ot.a,{className:"attached fluid segment",onSubmit:n(this.handlePublish)},r.a.createElement(vn.a,{name:"title",label:"Title",component:this.renderField}),r.a.createElement(vn.a,{name:"subject",label:"Subject",component:this.renderField}),r.a.createElement(vn.a,{name:"content",label:"Content",component:this.renderField}),r.a.createElement("div",{style:{paddingTop:10}},r.a.createElement(On,{pristine:c,valid:i,isLoading:u,onClick:function(){return e.setState({isLoading:!0})},buttonText:"Publish"})))):r.a.createElement(G.a,{to:"/login"})}}]),t}(a.Component),Ka=Object(Cn.a)({validate:ht,form:"CreateArticleForm"})(Object(m.b)(function(e){return{errorAlert:$(e),auth:q(e),article:me(e),user:J(e)}},{createArticle:function(e){return function(t){t(Ze("CREATE_ARTICLE")),function(e){return Ge.apply(this,arguments)}(e).then(function(e){t(et("RECEIVE_ARTICLE",e.data))},function(e){t(at("CREATE_ARTICLE_ERROR",e))})}}})(Object(G.g)(za))),Ga=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).handleFieldChange=function(e,t){var a=n.state.editFields;t.preventDefault(),n.setState({editFields:Object(U.a)({},a,Object(Pn.a)({},e,t.target.value))})},n.state={updating:!1,editFields:""},n.handleSubmitClick=n.handleSubmitClick.bind(Object(Q.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.requestArticleDetail(e)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=(t.editArticle,t.article);e.article.data!==n.data&&this.setState({editFields:n.data.data})}},{key:"handleSubmitClick",value:function(){this.setState({updating:!0});var e,t=parseInt(this.props.match.params.id),n=this.state.editFields,a=["title","content","subject"];Object.keys(n).forEach(function(t){a.includes(t)||(delete n[t],e=n)}),this.props.updateArticle(t,e)}},{key:"render",value:function(){var e=this.state.updating,t=this.props,n=t.article,a=t.article.data.data;return n.dataReceived&&r.a.createElement(Nn,{headerText:"Edit your article",handleSubmitClick:this.handleSubmitClick,updating:e,fieldComponent:r.a.createElement(Hn,{editOption:a,handleFieldChange:this.handleFieldChange})})}}]),t}(a.Component),Qa=Object(m.b)(function(e){return{article:de(e),editArticle:he(e)}},{requestArticleDetail:rt,updateArticle:function(e,t){return function(n){n(Ze("REQUEST_ARTICLE_UPDATE")),function(e,t){return xe.apply(this,arguments)}(e,t).then(function(e){n(nt({successMsg:"Article updated"})),n(et("RECEIVE_ARTICLE_UPDATE",e.data))},function(e){n(at("ARTICLE_UPDATE_ERROR",e))})}}})(Object(G.g)(Ga)),Ya=function(){return r.a.createElement(G.d,null,r.a.createElement(G.b,{exact:!0,path:"/",component:ea}),r.a.createElement(G.b,{exact:!0,path:"/home",component:ea}),r.a.createElement(G.b,{path:"/login",component:la}),r.a.createElement(G.b,{path:"/signup",component:va}),r.a.createElement(G.b,{path:"/tickets",component:wa}),r.a.createElement(G.b,{path:"/ticket/:id",component:ja}),r.a.createElement(G.b,{path:"/pricing",component:pa}),r.a.createElement(G.b,{path:"/dashboard",component:Fn}),r.a.createElement(G.b,{path:"/user-profile",component:Fa}),r.a.createElement(Vt,{path:"/checkout",component:gn}),r.a.createElement(G.b,{path:"/blog",component:Na}),r.a.createElement(Vt,{path:"/article/:id",component:Pt}),r.a.createElement(Vt,{path:"/create-ticket",component:_n}),r.a.createElement(Vt,{path:"/new-article",component:Ka}),r.a.createElement(Vt,{path:"/edit-ticket/:id",component:zn}),r.a.createElement(Vt,{path:"/edit-article/:id",component:Qa}))},Wa=n(537),qa=n(531),Ja=function(e){var t=e.handleSidebarHide;return Object.keys(y).map(function(e){var n=y[e],a=n.header,i=n.key;return r.a.createElement(qa.a.Item,{key:e,onClick:function(){return t()},as:E.b,name:i,to:i},a)})},$a=function(e){var t=e.isAuthenticated,n=e.handleLogoutClick;return t?r.a.createElement(qa.a.Item,{onClick:function(){return n()}},"Log out"):r.a.createElement(a.Fragment,null,r.a.createElement(qa.a.Item,{as:E.c,to:"/login"},"Log in"),r.a.createElement(qa.a.Item,{as:E.c,to:"/signup"},"Sign Up"))};function Xa(){var e=Object(Lt.a)(["\n  color: #d4d4d5 !important;\n  padding-right: 0.5rem;\n"]);return Xa=function(){return e},e}var Za=Dt.a.span(Xa()),er=function(e){var t=e.username,n=e.current_membership;return r.a.createElement(a.Fragment,null,r.a.createElement(Za,{as:E.b,to:"/user-profile"},r.a.createElement(ot.a,{name:"user",size:"small"}),t.toUpperCase()," |",n.membership.type.toUpperCase()))},tr=n(524),nr=function(e){var t,n=e.pendingOrders,a=n.orders,i=n.count;return r.a.createElement(qa.a.Menu,{position:"right",style:{paddingRight:10}},r.a.createElement(E.c,{to:"/checkout"},r.a.createElement(ot.a,{name:"cart",color:"orange"})),r.a.createElement("span",{style:{paddingRight:10}},i),r.a.createElement(tr.a,{text:"Cart",pointing:!0},r.a.createElement(tr.a.Menu,null,(t=a,Object.keys(t).map(function(e,n){var a=t[e],i=a.ticket,c=a.membership,o=t[e].ticket?i:c?"Unicorn ".concat(c):"Kind donation";return r.a.createElement(tr.a.Item,{key:n},o.toUpperCase())})),r.a.createElement(tr.a.Divider,null),r.a.createElement(tr.a.Header,null,r.a.createElement(bt.a,{content:"Checkout",icon:"shopping basket",size:"tiny",as:E.c,to:"/checkout"})))))},ar={paddingLeft:"31%",paddingTop:10,fontSize:"0.8rem"},rr=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={showLoginModal:!1,showSignupModal:!1,sidebarOpened:!1},n.handleLogoutClick=n.handleLogoutClick.bind(Object(Q.a)(n)),n.handleSidebarHide=n.handleSidebarHide.bind(Object(Q.a)(n)),n.handleToggle=n.handleToggle.bind(Object(Q.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.user;e.user.isAuthenticated!==t.isAuthenticated&&this.props.fetchPendingOrder()}},{key:"handleSidebarHide",value:function(){this.setState({sidebarOpened:!1})}},{key:"handleToggle",value:function(){this.setState({sidebarOpened:!0})}},{key:"handleLogoutClick",value:function(){this.props.logOut()}},{key:"render",value:function(){var e=this.state.sidebarOpened,t=this.props,n=t.user.isAuthenticated,a=t.userProfile,i=t.pendingOrder;return r.a.createElement("div",null,r.a.createElement(Wa.a,{as:qa.a,animation:"push",inverted:!0,onHide:this.handleSidebarHide,vertical:!0,visible:e},r.a.createElement(Ja,{handleSidebarHide:this.handleSidebarHide}),r.a.createElement($a,{isAuthenticated:n,handleLogoutClick:this.handleLogoutClick})),r.a.createElement(Wa.a.Pusher,{dimmed:e},r.a.createElement(vt.a,{inverted:!0,textAlign:"center",style:{padding:"1em 0em"},vertical:!0},r.a.createElement(Y.a,null,r.a.createElement(qa.a,{inverted:!0,pointing:!0,secondary:!0,size:"large"},r.a.createElement(qa.a.Item,{onClick:this.handleToggle},r.a.createElement(ot.a,{name:"sidebar"})),r.a.createElement(qa.a.Item,{style:i.data.count>0?ar:Object(U.a)({},ar,{paddingLeft:"56%"})},i.data.count>0&&r.a.createElement(nr,{pendingOrders:i.data}),n&&a.dataReceived&&r.a.createElement(er,{username:a.data.username,current_membership:a.data.current_membership}))))),this.props.children))}}]),t}(a.Component),ir=Object(m.b)(function(e){return{user:q(e),userProfile:J(e),pendingOrder:le(e)}},{logOut:Gn,fetchPendingOrder:en})(Object(G.g)(rr)),cr=function(e){var t=e.children;return r.a.createElement(lt.a,{as:Wa.a.Pushable,getWidth:mt,maxWidth:lt.a.onlyMobile.maxWidth},r.a.createElement(ir,null),t)},or=n(518),lr=function(e){var t=e.isAuthenticated,n=e.handleLogout,i=e.fixed;return t?r.a.createElement(pt.a,{inverted:!i,primary:i,style:{marginLeft:"0.5em"},onClick:function(){return n()}},"Log out"):r.a.createElement(a.Fragment,null,r.a.createElement(pt.a,{size:"small",inverted:!i,as:E.c,to:"/login"},"Log in"),r.a.createElement(pt.a,{inverted:!i,primary:i,style:{marginLeft:"0.5em"},as:E.c,to:"/signup",size:"small"},"Sign Up"))},ur=function(e){var t=e.isActive,n=e.showActiveLink;return Object.keys(y).map(function(e){var a=y[e],i=a.header,c=a.key;return r.a.createElement(qa.a.Item,{key:e,active:t[c],as:E.c,to:c,onClick:function(){return n(c)}},i)})},sr=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={fixed:!1,isActive:{products:!1,blog:!1,tickets:!1,pricing:!1,home:!1},itemCount:""},n.handleLogoutClick=n.handleLogoutClick.bind(Object(Q.a)(n)),n.handleSignupClick=n.handleSignupClick.bind(Object(Q.a)(n)),n.handleLoginClick=n.handleLoginClick.bind(Object(Q.a)(n)),n.showFixedMenu=n.showFixedMenu.bind(Object(Q.a)(n)),n.hideFixedMenu=n.hideFixedMenu.bind(Object(Q.a)(n)),n.showActiveLink=n.showActiveLink.bind(Object(Q.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.user;e.user.isAuthenticated!==t.isAuthenticated&&this.props.fetchPendingOrder()}},{key:"hideFixedMenu",value:function(){this.setState({fixed:!1})}},{key:"showFixedMenu",value:function(){this.setState({fixed:!0})}},{key:"handleSignupClick",value:function(){this.setState({showSignupModal:!0})}},{key:"handleLoginClick",value:function(){this.setState({showLoginModal:!0})}},{key:"handleLogoutClick",value:function(){this.props.logOut()}},{key:"showActiveLink",value:function(e){var t=this,n=this.state.isActive;Object.keys(n).map(function(a){return e===a?t.setState({isActive:Object(U.a)({},n,Object(Pn.a)({},e,!0))}):t.setState({isActive:Object(U.a)({},n,Object(Pn.a)({},a,!1))})})}},{key:"render",value:function(){var e=this.state,t=e.fixed,n=e.isActive,a=this.props,i=a.user.isAuthenticated,c=a.userProfile.data,o=a.pendingOrder;return r.a.createElement("div",null,r.a.createElement(qa.a,{fixed:t?"top":null,inverted:!t,pointing:!t,secondary:!t,size:"small"},r.a.createElement(Y.a,null,r.a.createElement(ur,{isActive:n,showActiveLink:this.showActiveLink}),r.a.createElement(qa.a.Item,{position:"right"},o.data.count>0&&r.a.createElement(nr,{pendingOrders:o.data}),c.dataReceived&&r.a.createElement(er,{username:c.username,current_membership:c.current_membership}),r.a.createElement(lr,{isAuthenticated:i,handleLogout:this.handleLogoutClick,fixed:t})))))}}]),t}(a.Component),dr=Object(m.b)(function(e){return{user:q(e),userProfile:J(e),pendingOrder:le(e)}},{logOut:Gn,fetchPendingOrder:en})(Object(G.g)(sr)),mr=function(e){var t=e.children,n=e.showFixedMenu,a=e.hideFixedMenu;return r.a.createElement(lt.a,{getWidth:mt,minWidth:lt.a.onlyTablet.minWidth},r.a.createElement(or.a,{once:!1,onBottomPassed:n,onBottomPassedReverse:a},r.a.createElement(vt.a,{textAlign:"center",inverted:!0,vertical:!0},r.a.createElement(dr,null))),t)},hr=function(){return r.a.createElement("div",null,r.a.createElement(bt.a,{inverted:!0,as:"h4",content:"Menu"}),r.a.createElement(Jt.a,{link:!0,inverted:!0},Object.keys(R).map(function(e){var t=R[e],n=t.header,i=t.key;return r.a.createElement(a.Fragment,{key:e},r.a.createElement(Jt.a.Item,{as:E.c,to:"/".concat(i)},n))})))},pr=function(){return r.a.createElement(vt.a,{inverted:!0,vertical:!0,style:{padding:"5em 0em"}},r.a.createElement(Y.a,null,r.a.createElement(Kt.a,{divided:!0,inverted:!0,stackable:!0},r.a.createElement(Kt.a.Row,null,r.a.createElement(Kt.a.Column,{width:8},r.a.createElement(bt.a,{inverted:!0,as:"h4",content:"About"}),r.a.createElement(Jt.a,{link:!0,inverted:!0},r.a.createElement(Jt.a.Item,{href:"https://github.com/mrndhlovu"},r.a.createElement(Jt.a.Icon,{name:"github",size:"large",verticalAlign:"middle"}),"GitHub"),r.a.createElement(Jt.a.Item,{href:"https://www.linkedin.com/in/mduduzi-ndhlovu/"},r.a.createElement(Jt.a.Icon,{name:"linkedin",size:"large",verticalAlign:"middle"}),"LinkedIn"))),r.a.createElement(Kt.a.Column,{width:8},r.a.createElement(hr,null))))))};function Er(){var e=Object(Lt.a)(["\n  min-height: 60rem;\n  overflow: hidden;\n  padding-bottom: 2rem;\n"]);return Er=function(){return e},e}var fr=Dt.a.div(Er()),br=function(e){var t=e.children;return r.a.createElement(a.Fragment,null,r.a.createElement(mr,null,t),r.a.createElement(cr,null,t))},gr=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.authState()}},{key:"render",value:function(){return r.a.createElement(br,null,r.a.createElement(fr,null,this.props.children),r.a.createElement(vt.a,{inverted:!0,vertical:!0,style:{padding:"5em 0em"}},r.a.createElement(pr,null)))}}]),t}(a.Component),vr=Object(m.b)(null,{authState:function(){return function(e){var t=new Date(Ce);t<=new Date?st(["sessionToken","sessionLife","customer"]):(e(function(e){}),e(Qn()),e(et("USER_AUTH_SUCCESS",ve)),t.getTime(),(new Date).getTime(),e(function(e){}))}}})(gr),Cr=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.alert,a=t.messages;a!==e.messages&&(a.successMsg?n.success(" ".concat(a.successMsg.successMsg)):n.error(" ".concat(a.errorMsg.errorMsg)))}},{key:"render",value:function(){return r.a.createElement(a.Fragment,null)}}]),t}(a.Component),kr=Object(m.b)(function(e){return{messages:X(e)}})(Object(h.b)()(Cr)),Tr={timeout:3e3,position:"top center"},Or=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,r.a.createElement(m.a,{store:K},r.a.createElement(E.a,null,r.a.createElement(h.a,Object.assign({template:p.a},Tr),r.a.createElement(vr,null,r.a.createElement(kr,null),r.a.createElement(Ya,null))))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Or,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[308,1,2]]]);
//# sourceMappingURL=main.dbb6e49a.chunk.js.map